{% extends "base.html" %}
{% block title %}Edit Expense{% endblock %}

{% block content %}
    <h3>Edit Expense</h3>
    <form method="post">
        <input type="text" name="description" value="{{ expense.description }}" placeholder="Description" required><br><br>
        <input type="number" step="0.01" name="amount" value="{{ expense.amount }}" placeholder="Amount" required><br><br>

        <label for="paid_by">Paid By:</label>
        <select name="paid_by" id="paid_by" required>
            {% for user in users %}
                <option value="{{ user.id }}" {% if user.id == expense.paid_by %}selected{% endif %}>
                    {{ user.username }}
                </option>
            {% endfor %}
        </select><br><br>

        <label>Shared With:</label><br>
        {% for user in users %}
            <input type="checkbox" name="shared_with" value="{{ user.id }}"
             {% if user.id in shared_user_ids %}checked{% endif %}>
            {{ user.username }}<br>
        {% endfor %}<br>

        <button type="submit">Update Expense</button>
    </form>
    <br>
    <a href="{{ url_for('dashboard') }}">Back to Dashboard</a>
{% endblock %}
